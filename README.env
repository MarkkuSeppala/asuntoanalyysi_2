# Ympäristömuuttujien asettaminen

Tämä dokumentti kuvaa kaikki sovelluksen tarvitsemat ympäristömuuttujat.

## .env-tiedosto

Kopioi alla oleva sisältö `.env`-tiedostoon sovelluksen juurihakemistossa ja täytä arvot:

```
# Flask asetukset
FLASK_APP=app.py
FLASK_ENV=development
SECRET_KEY=sinun-salainen-avaimesi

# Tietokanta-asetukset
DATABASE_URL=postgresql://postgres:postgres@db:5432/asuntoanalyysi

# Google OAuth asetukset
GOOGLE_CLIENT_ID=sinun-google-client-id
GOOGLE_CLIENT_SECRET=sinun-google-client-secret
GOOGLE_REDIRECT_URI=http://localhost:5000/login/google/authorized

# SendGrid asetukset sähköpostien lähetykseen
SENDGRID_API_KEY=sinun-sendgrid-api-avain
MAIL_DEFAULT_SENDER=noreply@kotiko.io

# Sivuston URL
SITE_URL=http://localhost:5000
```

## Ympäristömuuttujien kuvaus

### Flask-asetukset
- `FLASK_APP`: Flask-sovelluksen pääsovellustiedosto (tavallisesti app.py)
- `FLASK_ENV`: Ympäristön tyyppi (development, production, testing)
- `SECRET_KEY`: Salainen avain, jota käytetään sessioiden salaukseen

### Tietokanta-asetukset
- `DATABASE_URL`: PostgreSQL-tietokannan yhteysmerkkijono

### Google OAuth -asetukset
- `GOOGLE_CLIENT_ID`: Google Cloud Consolesta saatu client ID
- `GOOGLE_CLIENT_SECRET`: Google Cloud Consolesta saatu client secret
- `GOOGLE_REDIRECT_URI`: URL, johon Google ohjaa käyttäjän kirjautumisen jälkeen

### SendGrid-asetukset
- `SENDGRID_API_KEY`: SendGrid API-avain sähköpostien lähettämiseen
- `MAIL_DEFAULT_SENDER`: Oletussähköpostiosoite, josta viestit lähetetään

### Sivuston asetukset
- `SITE_URL`: Sovelluksen URL, jota käytetään linkkien generoimiseen

## Ympäristömuuttujien asettaminen eri ympäristöissä

### Paikallinen kehitys
Käytä `.env`-tiedostoa tai aseta muuttujat suoraan komentoriviltä:

```bash
export GOOGLE_CLIENT_ID=sinun-google-client-id
export GOOGLE_CLIENT_SECRET=sinun-google-client-secret
```

### Docker
Käytä `docker-compose.yml`-tiedoston environment-osiota tai `.env`-tiedostoa:

```yaml
environment:
  - GOOGLE_CLIENT_ID=sinun-google-client-id
  - GOOGLE_CLIENT_SECRET=sinun-google-client-secret
```

### Render
Aseta ympäristömuuttujat Render-hallintapaneelista:
1. Mene Dashboard > sinun sovelluksesi > Environment
2. Lisää kaikki tarvittavat muuttujat
3. Salaisille arvoille valitse "Secret" option 